"use strict";var replaceSelectElementsWithCustom=function(){var e=void 0,t=void 0,o=void 0,n=void 0,i=void 0;for(e=document.getElementsByClassName("combobox__container"),t=0;t<e.length;t++){n=e[t].getElementsByTagName("select")[0],(i=document.createElement("div")).setAttribute("class","combobox__selected"),i.innerHTML=n.options[n.selectedIndex].innerHTML,e[t].appendChild(i);var l=document.createElement("div");for(l.setAttribute("class","combobox__items-list combobox__items-list_hidden"),o=0;o<n.length;o++)createItems(n,o,l);e[t].appendChild(l),i.addEventListener("click",onComboboxClick)}},createItems=function(e,t,o){var n=document.createElement("div");n.innerHTML=e.options[t].innerHTML,n.addEventListener("click",onItemClick),o.appendChild(n)};function onItemClick(){for(var e=this.parentNode.parentNode.getElementsByTagName("select")[0],t=this.parentNode.previousSibling,o=0;o<e.length;o++)if(e.options[o].innerHTML==this.innerHTML){e.selectedIndex=o,t.innerHTML=this.innerHTML;break}t.click()}function onComboboxClick(e){e.stopPropagation(),closeAllComboboxesExceptActive(this),this.nextSibling.classList.toggle("combobox__items-list_hidden")}var closeAllComboboxesExceptActive=function(e){for(var t=document.getElementsByClassName("combobox__items-list"),o=document.getElementsByClassName("combobox__selected"),n=[],i=0;i<o.length;i++)e==o[i]&&n.push(i);for(var l=0;l<t.length;l++)n.indexOf(l)&&t[l].classList.add("combobox__items-list_hidden")};document.addEventListener("click",closeAllComboboxesExceptActive),replaceSelectElementsWithCustom();var mainPageContainer=document.getElementById("main-page"),openedModal=void 0,registerModalOpeners=function(){for(var e=document.getElementsByClassName("open-modal"),t=0;t<e.length;t++)e[t].addEventListener("click",openModal)},openModal=function(e){var t=e.target,o=void 0;do{if(o=t.getAttribute("device"),!(t=t.parentElement))return}while(!o);var n=getDeviceId(o);n&&((openedModal=document.getElementById(n)).classList.toggle("modal-form__layout_visible"),mainPageContainer.classList.toggle("main-page_blurred"))},getDeviceId=function(e){switch(e){case"Xiaomi Yeelight LED Smart Bulb":return"xiaomi-yeelight";case"Elgato Eve Degree Connected":return"elgato-eve";case"Xiaomi Warm Floor":return"xiaomi-floor";default:return}},registerModalClosers=function(){for(var e=document.getElementsByClassName("modal-form__button"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){openedModal.classList.toggle("modal-form__layout_visible"),mainPageContainer.classList.toggle("main-page_blurred")})};registerModalOpeners(),registerModalClosers();
//# sourceMappingURL=scripts.min.js.map
